<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Эвакуаторы</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
   <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js" ></script>
   <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js" ></script>
   <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js" ></script>
  
   <script src="https://cdn.datatables.net/plug-ins/1.10.11/sorting/datetime-moment.js" ></script>
  
    <script>
    
    $.fn.dataTableExt.afnFiltering.push(
    function( oSettings, aData, iDataIndex ) {
        var iMin = document.getElementById('min-date-hidden').value;
        var iMax = document.getElementById('max-date-hidden').value;
        var iDateCol = 8;
        
 
        iMin=iMin.substring(6,10) + iMin.substring(3,5)+ iMin.substring(0,2);
        iMax=iMax.substring(6,10) + iMax.substring(3,5)+ iMax.substring(0,2);
 
        var date =aData[iDateCol].substring(6,10) + aData[iDateCol].substring(3,5)+ aData[iDateCol].substring(0,2);
       
 
        if ( iMin === "" && iMax === "" )
        {
            return true;
        }
        else if ( iMin <= date && iMax === "")
        {
            return true;
        }
        else if ( iMax >= date && iMin === "")
        {
            return true;
        }
        else if (iMin <= date && iMax>= date)
        {
            return true;
        }
        return false;
    }
);
    
          
    $(function () {
    	 $(document).on("click", function (event) {
    	 	  if ($(event.target).closest(".table-cars tbody tr").length) {
    	 	  	   return;
    	 	  }
    	 	   if ($(event.target).closest(".dashbord button").length) {
    	 	  	   return;
    	 	  }
    	 	  if ($(event.target).closest(".modal").length) {
    	 	  	   return;
    	 	  }
    	 	  $("body .table-cars tbody tr").removeClass("active-row");
    	 	  $(".dashbord button").attr("disabled", "disabled" );
    	 	  event.stopPropagation();
    	 });
    });
    $(document).ready(function () { 
 
         var table =  $('#orders-table').DataTable({
                "pageLength": 10,
	             "sDom": 'rt<"panel-footer" <"nav table-pag"p>>',
        
         });  
     
         $(".search > input").keyup(function () {
         	 table.search(this.value ).draw();
         }); 
         $(".status select").change(function () {
             table.draw();
         	 
         });
         
         $('#min-date-hidden').on("change", function () {
         	 table.draw();
         }); 
         $('#max-date-hidden').on("change", function () {
         	   table.draw();
         });  
         $('#min-date').on("focusout", function() { 
             
             $('#min-date-hidden').val(this.value).trigger("change");
             
         } );
         
         $('#max-date').on("focusout", function() { 
              
             $('#max-date-hidden').val(this.value).trigger("change");
         } );    
         
         
         //Выбор временного периода 
         moment.locale('ru', {
                 months : [
                   "Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль",
                    "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"
                ]
         });
         var currentYear =moment().year(),
             currentMonth = moment().month(),
             select = getOptions(currentYear, currentMonth);       
         
         $(".period-select").on("change", function () {
              var month,
                  year,
                  startDate,
                  endDate; 
         
              if (this.value == "all" ) {
              
         	      $('#min-date-hidden').val(null).trigger("change");    
                  $('#max-date-hidden').val(null).trigger("change");
                  $('#min-date').val(null);
                  $('#max-date').val(null);
                   
             } else if(this.value == "currentMonth" ) {
         	 
         	      endDate = moment().format("DD/MM/YYYY");
         	      month = moment().month();
         	      year = moment().year();
         	      startDate = moment([year, month]).format("DD/MM/YYYY"),
                  $('#min-date-hidden').val(startDate).trigger("change");    
                  $('#max-date-hidden').val(endDate).trigger("change"); 
                  $('#min-date').val(startDate);
                  $('#max-date').val(endDate);
                  
             } else if (this.value == "currentYear") {
             
         	      endDate = moment().format("DD/MM/YYYY");
         	      year = moment().year();
         	      startDate = moment([year]).format("DD/MM/YYYY");
         	      $('#min-date-hidden').val(startDate).trigger("change");    
                  $('#max-date-hidden').val(endDate).trigger("change");
                  $('#min-date').val(startDate);
                  $('#max-date').val(endDate);
                  
             }  else {
             
                  month = Number(this.value.substring(0,2))-1;
                  year = Number(this.value.substring(3));
                  startDate = moment([year, month]).format("DD/MM/YYYY");
                  endDate = moment([year, month]).endOf("month").format("DD/MM/YYYY");   
                  $('#min-date-hidden').val(startDate).trigger("change");    
                  $('#max-date-hidden').val(endDate).trigger("change");
                  $('#min-date').val(startDate);
                  $('#max-date').val(endDate);
         	
             }
                	 
         });
 
         function getLastSixMonths(currentYear, currentMonth) {
             
             var  sixMonthsBefore = currentMonth -6,
                  monthsString = "";

             for (var i= currentMonth-1; i>=sixMonthsBefore; i--) {
             	   
             	   if (i>=0) {
             	   	monthsString += "<option value=\""+moment([currentYear, i]).format("MM YYYY")+"\">"+moment([currentYear, i]).format("MMMM YYYY")+"</option>\n";
             	   } else if(i<0) {
             	   	monthsString += "<option value=\""+moment([currentYear-1, 12-Math.abs(i)]).format("MM YYYY")+"\">"+moment([currentYear-1, 12-Math.abs(i)]).format("MMMM YYYY")+"</option>\n";
             	   }

             }
         	 return monthsString;
         }
         function getOptions(currentYear, currentMonth) {
         	var options = "";
         	options += "<option value=\"all\">Выберите период</option>";
         	options += "<option value=\"currentMonth\">Текущий месяц ("+moment([currentYear, currentMonth]).format("MMMM YYYY")+")</option>\n";
         	options += "<option value=\"currentYear\">Текущий год ("+currentYear+")</option>\n";
         	options += getLastSixMonths(currentYear, currentMonth);
         	
         	return options;
         }
         
         $(".period-select").html(select);
         
         
         
         
         $(document).on("click", ".pagination li a",function () {
         	  
                  
                  $("body .table-cars tbody tr").removeClass("active-row");
                  $(".dashbord button").attr("disabled", "disabled" );
              	
               
          });
          
         $(".table-cars tbody ").on("click", "tr", function () {
              
              if ($(this).hasClass("active-row")) {
              
                  $(this).removeClass("active-row");
                  $(".dashbord button").attr("disabled", "disabled" );
              	
              }  
              else {
              
              	   $(".active-row").removeClass("active-row");
              	   
              	   $(this).addClass("active-row");

              	   	  $(".dashbord button").removeAttr("disabled");
 
              }
              
         });

         $('[data-toggle="popover"]').popover();
         
         $('#myModal').on('shown.bs.modal', function () {
              $('#myInput').focus();
         });
         
         $(".control").click(function () {
     	          $(".control.active-button").removeClass("active-button");
                $(this).addClass("active-button");
         
           ymaps.ready(init);
           var myMap,
               startPlacemark,
               finishPlacemark,
               startPoint,
               finishPoint,
               startPointString,
               finishPointString,
               route = null,
               routeLength = null,
               tarif = $("#tarif").val(),
               cost = 0;
          function init(){ 
            myMap = new ymaps.Map("map", {
                center: [49.444433, 32.059759],
                zoom: 12
            });
            
            // Форма нового заказа
            if ($(".active-button").attr("id")=="newButton") {
                    
                 $("#newModal h4.modal-title").text("Новый заказ");
                 $("#newModal .position, #result, #newModal input, #newModal textarea ").removeAttr("disabled");
                  
                 $("button#start-point-button").click(function () {
                        $(".modal .active-button").removeClass("active-button");
                        $(this).addClass("active-button");
                        
                       
                        if ($("#start-point-input").val()) {
                            startPointString = $("#start-point-input").val();
                            ymaps.geocode(startPointString).then(function (res) {
                                         var firstGeoObject = res.geoObjects.get(0);
                                         startPoint = res.geoObjects.get(0).geometry.getCoordinates();
                                         
                                         if (startPlacemark) {
                                             startPlacemark.geometry.setCoordinates(startPoint);
                                         }
                                    
                                         else {
                                             startPlacemark = createPlacemark(startPoint);
                                             myMap.geoObjects.add(startPlacemark);
                                         }
                                         if (route) {
                                             myMap.geoObjects.remove(route);
                                  	      
                                         }
                            }); 
                            myMap.events.add('click', function (e) {
                 
                 	            if ($(".active-button").attr("id")=="start-point-button") {
                 	                          
                                startPoint = e.get('coords'); 
                                ymaps.geocode(startPoint).then(function (res) {
                                    var firstGeoObject = res.geoObjects.get(0);
                                    
                                    if (startPlacemark) {
                                        startPlacemark.geometry.setCoordinates(startPoint);
                                    }
                                    
                                    else {
                                       startPlacemark = createPlacemark(startPoint);
                                       myMap.geoObjects.add(startPlacemark);
                                    }
                                     
                         
                                     $("#start-point-input").val(firstGeoObject.properties.get('text')); 
                               });
                 	      	
                 	            }
                          });                       
                        
                        }else {
                        	myMap.events.add('click', function (e) {
                 
                 	            if ($(".active-button").attr("id")=="start-point-button") {
                 	                                  
                                startPoint = e.get('coords'); 
                                ymaps.geocode(startPoint).then(function (res) {
                                    var firstGeoObject = res.geoObjects.get(0);
                                    
                                    if (startPlacemark) {
                                        startPlacemark.geometry.setCoordinates(startPoint);
                                    }
                                    
                                    else {
                                       startPlacemark = createPlacemark(startPoint);
                                       myMap.geoObjects.add(startPlacemark);
                                    }
                                     if (route) {
                                       myMap.geoObjects.remove(route);
                                  	      
                                     } 
                         
                                     $("#start-point-input").val(firstGeoObject.properties.get('text')); 
                               });
                 	      	
                 	            }
                          });
                      }
                   	
                   });
                    $("button#finish-point-button").click(function () {
                        $(".modal .active-button").removeClass("active-button");
                        $(this).addClass("active-button");
                        
                        if ($("#finish-point-input").val()) {
                            finishPointString = $("#finish-point-input").val();
                            ymaps.geocode(finishPointString).then(function (res) {
                                    var secondGeoObject = res.geoObjects.get(0);
                                    finishPoint = res.geoObjects.get(0).geometry.getCoordinates();
                                         
                                    if (finishPlacemark) {
                                         finishPlacemark.geometry.setCoordinates(finishPoint);
                                    }
                                    
                                    else {
                                         finishPlacemark = createPlacemark(finishPoint);
                                         myMap.geoObjects.add(finishPlacemark);
                                    }
                                    if (route) {
                                  	     myMap.geoObjects.remove(route);
                                  	      
                                    }
                                   
                                       
                            });
                            myMap.events.add('click', function (e) {
                 
                 	          if ($(".active-button").attr("id")=="finish-point-button") {
                 	                       
                                finishPoint = e.get('coords'); 
                                ymaps.geocode(finishPoint).then(function (res) {
                                    var secondGeoObject = res.geoObjects.get(0);
                                    
                                    if (finishPlacemark) {
                                        finishPlacemark.geometry.setCoordinates(finishPoint);
                                    }
                                    
                                    else {
                                       finishPlacemark = createPlacemark(finishPoint);
                                       myMap.geoObjects.add(finishPlacemark);
                                    }
                                    if (route) {
                                  	      myMap.geoObjects.remove(route);
                                  	      
                                    } 
                         
                                     $("#finish-point-input").val(secondGeoObject.properties.get('text')); 
                                     
                               });
                 	      	
                 	         }
                          });                        
                        
                       }else {
                        	myMap.events.add('click', function (e) {
                 
                 	          if ($(".active-button").attr("id")=="finish-point-button") {
                 	                          	         
                                finishPoint = e.get('coords'); 
                                ymaps.geocode(finishPoint).then(function (res) {
                                    var secondGeoObject = res.geoObjects.get(0);
                                    
                                    if (finishPlacemark) {
                                        finishPlacemark.geometry.setCoordinates(finishPoint);
                                    }
                                    
                                    else {
                                       finishPlacemark = createPlacemark(finishPoint);
                                       myMap.geoObjects.add(finishPlacemark);
                                    }
                                     
                         
                                     $("#finish-point-input").val(secondGeoObject.properties.get('text')); 
                                     if (route) {
                                     	 myMap.geoObjects.remove(route);
                                     	 
                                     }
                                     
                               });
                 	      	
                 	        }
                        });
                      }
                   	
                   });
                   
                	// Форма редактирования
                	} else if($(".active-button").attr("id")=="detailsButton") {
                	         
                		          
                		          $("#newModal .position, #result, #newModal input, #newModal textarea ").attr("disabled", "disabled" );
                		          var orderNumber = $(".active-row").attr("data-order-id");
                	             $("#newModal h4.modal-title").text("Заказ № "+orderNumber);

                	         startPointString = $(".active-row").find(".start-point").text(),
                           finishPointString = $(".active-row").find(".finish-point").text();
                       
                       $("#start-point-input").val(startPointString); 
                       $("#finish-point-input").val(finishPointString);
                   
                       ymaps.geocode(startPointString).then(function (res) {
                                
                               startPoint = res.geoObjects.get(0).geometry.getCoordinates();
                                  
                               if (startPlacemark) {
                                    startPlacemark.geometry.setCoordinates(startPoint);
                               }
                                    
                               else {
                                    startPlacemark = createPlacemark(startPoint);
                                    myMap.geoObjects.add(startPlacemark);
                               }
                      
                       });                        
                       ymaps.geocode(finishPointString).then(function (res) {
                             
                              finishPoint = res.geoObjects.get(0).geometry.getCoordinates();
                                         
                              if (finishPlacemark) {
                                     finishPlacemark.geometry.setCoordinates(finishPoint);
                               }
                                   
                              else {
                                     finishPlacemark = createPlacemark(finishPoint);
                                     myMap.geoObjects.add(finishPlacemark);
                              }
                              if (route) {
                                   	 myMap.geoObjects.remove(route);
                              }
                              createRoute(startPoint, finishPoint); 
                                       
                     });
                     $("button#start-point-button").click(function () {
                        $(".modal .active-button").removeClass("active-button");
                        $(this).addClass("active-button");
                        
                        if ($("#start-point-input").val()) {
                            startPointString = $("#start-point-input").val();
                            ymaps.geocode(startPointString).then(function (res) {
                                         var firstGeoObject = res.geoObjects.get(0);
                                         startPoint = res.geoObjects.get(0).geometry.getCoordinates();
                                         
                                         if (startPlacemark) {
                                             startPlacemark.geometry.setCoordinates(startPoint);
                                         }
                                    
                                         else {
                                             startPlacemark = createPlacemark(startPoint);
                                             myMap.geoObjects.add(startPlacemark);
                                         }
                                         if (route) {
                                             myMap.geoObjects.remove(route);
                                  	      
                                         }
                            }); 
                            myMap.events.add('click', function (e) {
                 
                 	            if ($(".active-button").attr("id")=="start-point-button") {
                 	                          
                                startPoint = e.get('coords'); 
                                ymaps.geocode(startPoint).then(function (res) {
                                    var firstGeoObject = res.geoObjects.get(0);
                                    
                                    if (startPlacemark) {
                                        startPlacemark.geometry.setCoordinates(startPoint);
                                    }
                                    
                                    else {
                                       startPlacemark = createPlacemark(startPoint);
                                       myMap.geoObjects.add(startPlacemark);
                                    }
                                    if (route) {
                                       myMap.geoObjects.remove(route);
                                  	      
                                    }
                         
                                     $("#start-point-input").val(firstGeoObject.properties.get('text')); 
                               });
                 	      	
                 	            }
                          });                       
                        
                        } 
                        
                     });
                     $("button#finish-point-button").click(function () {
                        $(".modal .active-button").removeClass("active-button");
                        $(this).addClass("active-button");
                         
                        if ($("#finish-point-input").val()) {
                            finishPointString = $("#finish-point-input").val();
                            ymaps.geocode(finishPointString).then(function (res) {
                                    var secondGeoObject = res.geoObjects.get(0);
                                    finishPoint = res.geoObjects.get(0).geometry.getCoordinates();
                                         
                                    if (finishPlacemark) {
                                         finishPlacemark.geometry.setCoordinates(finishPoint);
                                    }
                                    
                                    else {
                                         finishPlacemark = createPlacemark(finishPoint);
                                         myMap.geoObjects.add(finishPlacemark);
                                    }
                                    if (route) {
                                         myMap.geoObjects.remove(route);
                                  	      
                                    }
                                    
                                       
                            });
                           
                            myMap.events.add('click', function (e) {
                 
                 	          if ($(".active-button").attr("id")=="finish-point-button") {
                 	                       
                                finishPoint = e	.get('coords'); 
                                ymaps.geocode(finishPoint).then(function (res) {
                                    var secondGeoObject = res.geoObjects.get(0);
                                    
                                    if (finishPlacemark) {
                                        finishPlacemark.geometry.setCoordinates(finishPoint);
                                    }
                                    
                                    else {
                                       finishPlacemark = createPlacemark(finishPoint);
                                       myMap.geoObjects.add(finishPlacemark);
                                    }
                                    if (route) {
                                       myMap.geoObjects.remove(route);
                                  	      
                                    } 
                         
                                    $("#finish-point-input").val(secondGeoObject.properties.get('text')); 
                                    
                                     
                               });
                 	      	
                 	           }
                 	           
                           });                        
                        
                        }
                   	
                   });
                		
                	}
                	$("#result").click(function () {
                	     if (route) {
                              myMap.geoObjects.remove(route);                      	      
                       }
                		 createRoute(startPoint, finishPoint); 
                	});
                	$(".close-btn").click(function () {
                	   $(".active-button").removeClass("active-button");
                		
                     
                     $("#start-point-input").val(null);
                                          
                     
                     $("#finish-point-input").val(null);
                      
                     $("#length").empty();
                     $("#cost").empty();
                     $("#length-input").val(null);
                     $("#cost-input").val(null);    
                     myMap.destroy();
                           
                	});      
                   
            }      
                   
                                                                        
           function createRoute(startPoint, finishPoint) {
           	    ymaps.route([startPoint, finishPoint], {mapStateAutoApply: true}).then(function (router){
                                           route = router;
                                           myMap.geoObjects.add(route);
                                           routeLength = Math.round(route.getLength()/1000);
                                           cost = calculateCost(tarif,routeLength);
                                           $("#length").text(routeLength);
                                           $("#cost").text(cost);
                                           $("#length-input").val(routeLength);
                                           $("#cost-input").val(cost);
                                     });
           }
           function createPlacemark(coords) {
               return new ymaps.Placemark(coords, {
               
               }, {
                   preset: 'islands#blueIcon',
                   draggable: true
               });
           }
           function calculateCost(tarif,routeLength) {
            	return tarif*routeLength;
           }
           
            
     }); 
          	      	
  });
                                  
    </script>
  </head>
  <body>
    <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="newModal" >
       <div class="modal-dialog modal-lg">
          <div class="modal-content">
             <div class="modal-header">
                 <button type="button" class="close close-btn" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                 <h4 class="modal-title">Новый заказ</h4>
             </div>
             <div class="modal-body">
                 <div class="row">
                     <div class="col-md-7 col-sm-7 col-lg-7">
                        <form class="oder-form">
                            <div class="form-group client">
                                  <label>Клиент</label>    
                                  <input type="text" class="form-control" placeholder="ФИО">
                                  <input type="tel" class="form-control" placeholder="Телефон">                                  
                            </div>
                            <label>Маршрут</label>
                             <div class="input-group">
                                 
                                  <input type="text" class="form-control" placeholder="От куда" id="start-point-input" >
                                  <span class="input-group-btn"><button  type="button" class="btn btn-default position" id="start-point-button">Указать точку</button></span> 
                                                                
                            </div>
                             <div class="input-group">
                                     	
                                  <input type="text" class="form-control" placeholder="Куда" id="finish-point-input">   
                                  <span class="input-group-btn"><button  type="button" class="btn btn-default position" id="finish-point-button">Указать точку</button></span>                           
                            </div>
                             <div class="form-group client">
                                  <label>Опции заказа</label>    
                                  <input type="text" class="form-control" placeholder="На когда">
                                  <input type="tel" class="form-control" placeholder="Тариф" id="tarif" value="10">                                  
                            </div>
                            <div class="form-group">
                                  <label>Коментарии к заказу</label>    
                                  <textarea class="form-control"></textarea>                            
                            </div>
                        
                            <div class="result">
                                 <h4>Результат</h4>
                                 <dl class="distance">
                                     <dd>
                                        <span>Расстояние:</span>
                                        <span id="length"></span><span>&nbspкм</span> 
                                        <input type="hidden" id="length-input">                                   
                                     </dd>
                                 </dl>
                                <dl class="distance">
                                     <dd>
                                        <span >Cтоимость:</span>
                                        <span id="cost"></span><span>&nbspгрн</span> 
                                        <input type="hidden" id="cost-input">                                     
                                     </dd>
                                 </dl>
                                  <button type="button" class="btn btn-default" id="result">Результат</button>
                            </div>
                         </form>
                     </div>
                 
                
                     <div class="col-md-5 col-sm-5">
                         <div id="map"></div> 
                     </div>
                 </div>
                 
             </div>
             <div class="modal-footer">
                 <button type="button" class="btn btn-default close-btn" data-dismiss="modal">Закрыть</button>
                 <button type="button" class="btn btn-primary">Сохранить</button>
             </div>
          </div><!-- /.modal-content -->
       </div><!-- /.modal-dialog -->
    </div><!-- /Форма заказа-->
 
    <div class="container-fluid wrap">
       <div class="row">
           <div class="col-sm-12 col-md-12 header">
             <div class="col-sm-3 col-md-2 logo-wrap">
                 <a class="logo" href="#">Лого</a>  
                          
             </div> 
             <div class="profile-menu">
                     <ul class="nav navbar-nav">
                        <li><a href="#">Администратор</a></li>
                        <li><a href="#">Выход</a></li>
                     </ul>                 
                 </div>          
          </div>       
       </div>
       <div class="row row-wrap">
          <div class="col-sm-3 col-md-2 sidebar">
             <ul class="nav nav-sidebar">
                 <li ><a href="index.html">Эвакуаторы</a><span ></span></li>
                 <li ><a href="drivers.html">Водители</a><span></span></li>
                 <li><a href="orders.html">Заказы</a><span></span></li>
                 <li><a href="analysis.html">Статистика</a><span></span></li>
                 <li class="on"><a href="archive.html">Архив</a><span class="triangle-right"></span></li>
             </ul>
          </div>
          <div class="col-sm-9  col-md-10 content">
          <div class="col-sm-12 col-md-12 head"><h1>Архив заказов</h1></div>
             <div class="col-sm-12 col-md-12">
                <div class="panel">
                 <div class="panel-heding">
                    <div class="navbar dashbord">
                        <ul class="nav navbar-nav">
                            <li data-toggle="popover" data-placement="top" data-content="Подробности заказа" data-trigger="hover"><button type="button" class="btn btn-default control"  data-container="body" id="detailsButton" data-toggle="modal" data-target="#newModal" disabled="disabled" > <span class="glyphicon glyphicon-eye-open"></span></button></li>
                            <li data-toggle="popover" data-placement="top" data-content="Удалить" data-trigger="hover"><button type="button" class="btn btn-default"  data-container="body" disabled="disabled" > <span class="glyphicon glyphicon-trash"></span></button></li>
                        </ul>
                        <div class="form-group period">        
                           <select class="form-control period-select" >
                                <option>Выберите период</option>
                                
                                
                           </select>
                        </div>
                        <div class="input-group date-range">
                            <label>или укажите вручную c:</label>
                            <input type="text" class="form-control" id="min-date">
                            <input type="hidden"  id="min-date-hidden">
                        </div>
                        <div class="input-group date-range">
                            <label>до:</label>
                            <input type="text" class="form-control" id="max-date">
                            <input type="hidden"  id="max-date-hidden">                            
                            
                        </div>
                        <div class="input-group search">
                           <input type="text" class="form-control" placeholder="Поиск заказа...">
                          
                       </div>  
                    </div>
                    
                 </div>
                 <div class="panel-body">
                  <div class="table-responsive">
                    <table class="table table-cars table-striped" id="orders-table">
                       <thead>
                          <tr>
                             
                             <th>№</th>
                             <th>Телефон</th>
                             <th>Клиент</th>
                             <th>От куда</th>
                             <th>Куда</th>
                             <th>Время</th>
                             <th>Стоимость</th>
                             <th>Эвакуатор</th>
                             <th>Создан</th>
                             
                          </tr>                    
                       </thead> 
                       <tbody>
                          <tr data-order-id="124">
                             
                             <td>124</td>
                             <td>09378965133</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr>  
                          <tr data-order-id="125">
                             
                             <td>125</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">Смела</td>
                             <td class="finish-point">Черкассы</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                             
                          </tr>  
                          <tr data-order-id="126">
                             
                             <td>126</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td>16.00</td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>23/05/2016</td>
                             
                          </tr>  
                          <tr data-order-id="127">
                             
                             <td>127</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td>16.00</td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>24/05/2016</td>
                             
                          </tr> 
                          <tr data-order-id="128" >
                             
                             <td>128</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>25/05/2016</td>
                             
                          </tr>  
                          <tr data-order-id="129">
                             
                             <td>129</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>26/05/2016</td>
                             
                          </tr> 
                          <tr data-order-id="130">
                            
                             <td>130</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>27/05/2016</td>
                            
                          </tr>                 
                          <tr data-order-id="131">
                             
                             <td>131</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>28/05/2016</td>
                             
                          </tr>                 
                          <tr data-order-id="132">
                             
                             <td>132</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>29/05/2016</td>
                             
                          </tr>      
                          <tr data-order-id="133">
                            
                             <td>133</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>30/05/2016</td>
                             
                          </tr>  
                          <tr data-order-id="134">
                             
                             <td>134</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">Смела</td>
                             <td class="finish-point">Черкассы</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>01/06/2016</td>
                             
                             
                          </tr>  
                          <tr data-order-id="135">
                             
                             <td>135</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td>16.00</td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>02/06/2016</td>
                             
                          </tr>  
                          <tr data-order-id="136">
                             
                             <td>136</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td>16.00</td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>03/06/2016</td>
                             
                          </tr> 
                          <tr data-order-id="137">
                             
                             <td>137</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>04/06/2016</td>
                             
                          </tr>  
                          <tr data-order-id="138">
                             
                             <td>138</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>05/06/2016</td>
                             
                          </tr> 
                          <tr data-order-id="139" >
                             
                             <td>139</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>06/06/2016</td>
                             
                          </tr>                 
                          <tr data-order-id="140" >
                             
                             <td>140</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>06/05/2016</td>
                             
                          </tr>                 
                          <tr data-order-id="141" >
                             
                             <td>141</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>09/06/2016</td>
                             
                          </tr>         
                          <tr data-order-id="142">
                             
                             <td>142</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>12/05/2016</td>
                             
                          </tr>  
                          <tr data-order-id="143">
                             
                             <td>143</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">Смела</td>
                             <td class="finish-point">Черкассы</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                             
                          </tr>  
                          <tr data-order-id="144" >
                             
                             <td>144</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td>16.00</td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr>  
                          <tr data-order-id="145">
                             
                             <td>145</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td>16.00</td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr> 
                          <tr data-order-id="146" >
                             
                             <td>146</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr>  
                          <tr data-order-id="147">
                             
                             <td>147</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr> 
                          <tr data-order-id="148">
                             
                             <td>148</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr>                 
                          <tr data-order-id="149">
                             
                             <td>149</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr>                 
                          <tr data-order-id="150">
                            
                             <td>150</td>
                             <td>0937896541</td>
                             <td>Владимир</td>
                             <td class="start-point">г. Смела, ул. Свердлова 92</td>
                             <td class="finish-point">г. Смела, ул. Киевская 10</td>
                             <td></td>
                             <td>100 грн</td>
                             <td>Mercedes</td>
                             <td>22/05/2016</td>
                             
                          </tr>                                     
                       </tbody>
                    </table>
                   </div>
                 </div>
                 
               </div>
             </div>
             
          </div>
       </div>    
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    
    <script>
    $(document).ready(function () {
         

         $(".button-close").click(function () {
              
         	  $(".table-cars tbody tr.active-row").removeClass("active-row");
         	  $("#newButton").parent().nextAll().find("button").attr("disabled", "disabled" );
         	  
         });
 
    });
    </script>
   
    <script>
       $(function () {
                $('#min-date').datetimepicker().data("DateTimePicker").options({
                     format: 'DD/MM/YYYY',
                                   
                });
                $('#max-date').datetimepicker().data("DateTimePicker").options({
                    format: 'DD/MM/YYYY',
                                  
                });
               
       });
    </script>
     <script>
            
             
     </script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
   
    <script src="bower_components/eonasdan-bootstrap-datetimepicker/src/js/bootstrap-datetimepicker.js"></script>
    
  </body>
</html>